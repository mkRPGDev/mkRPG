<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>mkRPG: src/editor/Game/mappainter.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">mkRPG
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">src/editor/Game/mappainter.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="mappainter_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef MAPPAINTER_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define MAPPAINTER_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="comment">// Hint : before to read this file, fold all comments blocks/</span>
<a name="l00006"></a>00006 <span class="comment">// all blocks and unfold the class you want to see. :)</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="map_8h.html" title="Definition of the Map, Cell and CellType classes.">map.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="options_8h.html" title="Definition of the Options class, and the constants that are used in this class.">GUI/options.h</a>&quot;</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#define MINMAX(a,x,b) std::min(std::max(a,x),b)</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00037"></a><a class="code" href="class_rl_coords.html">00037</a> <span class="keyword">class </span><a class="code" href="class_rl_coords.html" title="The RlCoords class describe positions with relative coordinates.">RlCoords</a> : <span class="keyword">public</span> QPointF
<a name="l00038"></a>00038 {
<a name="l00039"></a>00039 <span class="keyword">public</span>:
<a name="l00040"></a>00040     <a class="code" href="class_rl_coords.html" title="The RlCoords class describe positions with relative coordinates.">RlCoords</a>() : QPointF(0,0){}
<a name="l00041"></a>00041     <span class="keyword">explicit</span> <a class="code" href="class_rl_coords.html" title="The RlCoords class describe positions with relative coordinates.">RlCoords</a>(qreal x, qreal y) : QPointF(x,y){}
<a name="l00042"></a>00042     <span class="keyword">explicit</span> <a class="code" href="class_rl_coords.html" title="The RlCoords class describe positions with relative coordinates.">RlCoords</a>(<span class="keyword">const</span> QPointF &amp;p) : QPointF(p){}
<a name="l00043"></a>00043 };
<a name="l00044"></a>00044 
<a name="l00053"></a><a class="code" href="class_cl_coords.html">00053</a> <span class="keyword">class </span><a class="code" href="class_cl_coords.html" title="The ClCoords class describe positions with cell coordinates.">ClCoords</a> : <span class="keyword">public</span> QPointF
<a name="l00054"></a>00054 {
<a name="l00055"></a>00055 <span class="keyword">public</span>:
<a name="l00056"></a>00056     <a class="code" href="class_cl_coords.html" title="The ClCoords class describe positions with cell coordinates.">ClCoords</a>() : QPointF(0,0){}
<a name="l00057"></a>00057     <span class="keyword">explicit</span> <a class="code" href="class_cl_coords.html" title="The ClCoords class describe positions with cell coordinates.">ClCoords</a>(qreal x, qreal y) : QPointF(x,y){}
<a name="l00058"></a>00058     <span class="keyword">explicit</span> <a class="code" href="class_cl_coords.html" title="The ClCoords class describe positions with cell coordinates.">ClCoords</a>(<span class="keyword">const</span> QPointF &amp;p) : QPointF(p){}
<a name="l00059"></a>00059 };
<a name="l00060"></a>00060 
<a name="l00069"></a><a class="code" href="class_pt_coords.html">00069</a> <span class="keyword">class </span><a class="code" href="class_pt_coords.html" title="The PtCoords class describe positions with virtual point coordinates.">PtCoords</a> : <span class="keyword">public</span> QPointF
<a name="l00070"></a>00070 {
<a name="l00071"></a>00071 <span class="keyword">public</span>:
<a name="l00072"></a>00072     <a class="code" href="class_pt_coords.html" title="The PtCoords class describe positions with virtual point coordinates.">PtCoords</a>() : QPointF(0,0){}
<a name="l00073"></a>00073     <span class="keyword">explicit</span> <a class="code" href="class_pt_coords.html" title="The PtCoords class describe positions with virtual point coordinates.">PtCoords</a>(qreal x, qreal y) : QPointF(x,y){}
<a name="l00074"></a>00074     <span class="keyword">explicit</span> <a class="code" href="class_pt_coords.html" title="The PtCoords class describe positions with virtual point coordinates.">PtCoords</a>(<span class="keyword">const</span> QPointF &amp;p) : QPointF(p){}
<a name="l00075"></a>00075 };
<a name="l00076"></a>00076 
<a name="l00084"></a><a class="code" href="class_px_coords.html">00084</a> <span class="keyword">class </span><a class="code" href="class_px_coords.html" title="The PxCoords class describe positions with real pixel coordinates.">PxCoords</a> : <span class="keyword">public</span> QPointF
<a name="l00085"></a>00085 {
<a name="l00086"></a>00086 <span class="keyword">public</span>:
<a name="l00087"></a>00087     <a class="code" href="class_px_coords.html" title="The PxCoords class describe positions with real pixel coordinates.">PxCoords</a>() : QPointF(0,0){}
<a name="l00088"></a>00088     <span class="keyword">explicit</span> <a class="code" href="class_px_coords.html" title="The PxCoords class describe positions with real pixel coordinates.">PxCoords</a>(qreal x, qreal y) : QPointF(x,y){}
<a name="l00089"></a>00089     <span class="keyword">explicit</span> <a class="code" href="class_px_coords.html" title="The PxCoords class describe positions with real pixel coordinates.">PxCoords</a>(<span class="keyword">const</span> QPointF &amp;p) : QPointF(p){}
<a name="l00090"></a>00090     <a class="code" href="class_px_coords.html" title="The PxCoords class describe positions with real pixel coordinates.">PxCoords</a>(<span class="keyword">const</span> QPoint &amp;p) : QPointF(p){}
<a name="l00091"></a>00091     <a class="code" href="class_px_coords.html" title="The PxCoords class describe positions with real pixel coordinates.">PxCoords</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y) : QPointF(x,y){}
<a name="l00092"></a>00092 };
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 
<a name="l00095"></a>00095 
<a name="l00112"></a><a class="code" href="class_map_painter.html">00112</a> <span class="keyword">class </span><a class="code" href="class_map_painter.html" title="The MapPainter class that can paint a Map using a QPainter.">MapPainter</a> : <span class="keyword">public</span> QObject
<a name="l00113"></a>00113 {
<a name="l00114"></a>00114     <span class="comment">// TODO Mode lecture seule.</span>
<a name="l00115"></a>00115     Q_OBJECT
<a name="l00116"></a>00116 <span class="keyword">public</span>:
<a name="l00129"></a><a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3">00129</a>     <span class="keyword">enum</span> <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">Element</a>{
<a name="l00130"></a><a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3a3a60732dd05f5a7cfbb3f823ed15a8af">00130</a>         <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3a3a60732dd05f5a7cfbb3f823ed15a8af">Nothing</a> = 0,            
<a name="l00131"></a><a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3a26b2d5d6e85f1b419545f806e7e5cda2">00131</a>         <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3a26b2d5d6e85f1b419545f806e7e5cda2">CellBackground</a> = 1,     
<a name="l00132"></a><a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3a2dcffdfb3d5b1bacc2c5c88cc3642b6a">00132</a>         <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3a2dcffdfb3d5b1bacc2c5c88cc3642b6a">Grid</a> = 2,               
<a name="l00133"></a><a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3ac4845e6f97ed778c87dec34258ee0290">00133</a>         <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3ac4845e6f97ed778c87dec34258ee0290">CellSelection</a> = 4,      
<a name="l00134"></a><a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3a35af0e126a8ff632d0d46c5162ec9a60">00134</a>         <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3a35af0e126a8ff632d0d46c5162ec9a60">CellHighlighting</a> = 8,   
<a name="l00135"></a><a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3a11b1008cd0aafe904943c1a11cb50ad6">00135</a>         <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3a11b1008cd0aafe904943c1a11cb50ad6">Objects</a> = 16,           
<a name="l00136"></a><a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3a25561a3666e5fd539263be7c6e9ab063">00136</a>         <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3a25561a3666e5fd539263be7c6e9ab063">All</a> = 31                
<a name="l00137"></a>00137     };
<a name="l00138"></a>00138     <a class="code" href="class_map_painter.html#a9c1c9ee90336daa528e090334ef67a39">MapPainter</a>(QObject *parent = 0); 
<a name="l00141"></a>00141     <a class="code" href="class_map_painter.html#a9c1c9ee90336daa528e090334ef67a39">MapPainter</a>(<a class="code" href="class_map.html" title="The Map class.">Map</a> *m, QObject *parent = 0); 
<a name="l00145"></a>00145     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#a8e7486d3743d62d2f3d334c23d38e1c9">setPaintedElement</a>(<a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">Element</a> e, <span class="keywordtype">bool</span> painted = <span class="keyword">true</span>); 
<a name="l00150"></a>00150     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#aaf546a511fb08c1688ce06392bce1048">setPaintedElements</a>(<a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">Element</a> e); 
<a name="l00156"></a>00156     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#a2b1aa596498e0c01c0b53d06d4a598b4">setMap</a>(<a class="code" href="class_map.html" title="The Map class.">Map</a>* m); 
<a name="l00159"></a>00159     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#a0deb552b94eff8f8751946928d7cd5b8">paint</a>(QPainter&amp; p); 
<a name="l00164"></a>00164     <span class="keyword">const</span> QImage&amp; <a class="code" href="class_map_painter.html#a1c20cf03d0376290481bd80b9f8ef013">render</a>(); 
<a name="l00170"></a>00170     <a class="code" href="class_rl_coords.html" title="The RlCoords class describe positions with relative coordinates.">RlCoords</a> <a class="code" href="class_map_painter.html#acbc0aeb056ee078b0053bf8fb183b36e">viewCenter</a>() <span class="keyword">const</span>; 
<a name="l00175"></a>00175     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#a435c535da8087a54ba09c71232377508">setViewCenter</a>(<a class="code" href="class_rl_coords.html" title="The RlCoords class describe positions with relative coordinates.">RlCoords</a> relativeCenter); 
<a name="l00182"></a>00182     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#a435c535da8087a54ba09c71232377508">setViewCenter</a>(<span class="keywordtype">double</span> relativeCenterX, <span class="keywordtype">double</span> relativeCenterY); 
<a name="l00185"></a>00185     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#a5da86b2c104c9d22eb54ecd7b1d0b960">setViewCenterQuiet</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y); 
<a name="l00189"></a>00189     <span class="keywordtype">double</span> <a class="code" href="class_map_painter.html#ae006f2db1575f588b5f94691e9f34970">scale</a>() <span class="keyword">const</span>; 
<a name="l00194"></a>00194     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#ae1d7e11835d4ee6588c5b5f0429787e3">setScale</a>(<span class="keywordtype">double</span> <a class="code" href="class_map_painter.html#ae006f2db1575f588b5f94691e9f34970">scale</a>); 
<a name="l00199"></a>00199     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#afaed21e6944cf1e62398f3f7a0067999">setScaleDomain</a>(<span class="keywordtype">double</span> scaleMin, <span class="keywordtype">double</span> scaleMax); 
<a name="l00205"></a>00205     <span class="keywordtype">bool</span> <a class="code" href="class_map_painter.html#ad7effe1c69fb1409d696dd54edd8bbb3">setHighlightedCell</a>(<span class="keyword">const</span> <a class="code" href="class_cl_coords.html" title="The ClCoords class describe positions with cell coordinates.">ClCoords</a>&amp; p); 
<a name="l00210"></a>00210     <span class="keywordtype">bool</span> <a class="code" href="class_map_painter.html#ad7effe1c69fb1409d696dd54edd8bbb3">setHighlightedCell</a>(<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j); 
<a name="l00213"></a>00213     QPoint <a class="code" href="class_map_painter.html#a528513a51ae87cce652e310587e59f9c">highlightedCell</a>() <span class="keyword">const</span>; 
<a name="l00218"></a>00218     <span class="keywordtype">bool</span> <a class="code" href="class_map_painter.html#ab0f0c512388d95b78d1118af8342fd16">hasHighlightedCell</a>() <span class="keyword">const</span>; 
<a name="l00223"></a>00223     <span class="keywordtype">bool</span> <a class="code" href="class_map_painter.html#a9d4b59ef444017715bc0d1b4dc1e9d5f">isCell</a>(<span class="keyword">const</span> <a class="code" href="class_cl_coords.html" title="The ClCoords class describe positions with cell coordinates.">ClCoords</a> &amp;c) <span class="keyword">const</span>; 
<a name="l00227"></a>00227     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#ae215f704c3f1ee11bb89861b9b4b13d3">resize</a>(QSize s); 
<a name="l00233"></a>00233     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#ae215f704c3f1ee11bb89861b9b4b13d3">resize</a>(<span class="keywordtype">int</span> wi, <span class="keywordtype">int</span> he); 
<a name="l00236"></a>00236     QSize <a class="code" href="class_map_painter.html#a3ae925af3a8a14a83f70b8cbd8c22158">size</a>() <span class="keyword">const</span>; 
<a name="l00242"></a>00242     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#a2dacde51513a54fbbf45b44787cd0ee2">zoom</a>(<span class="keywordtype">double</span> factor, QPointF fixedPoint); 
<a name="l00249"></a>00249     QPair&lt;bool,bool&gt; <a class="code" href="class_map_painter.html#a55dd52865ad3f50b91dadd1f1b6f9352">move</a>(<a class="code" href="class_px_coords.html" title="The PxCoords class describe positions with real pixel coordinates.">PxCoords</a> delta, QPointF center); 
<a name="l00258"></a>00258     QSize <a class="code" href="class_map_painter.html#ac83fce82c6257bd251bc8cd37419af56">virtualSize</a>() <span class="keyword">const</span>; 
<a name="l00262"></a>00262     <a class="code" href="class_px_coords.html" title="The PxCoords class describe positions with real pixel coordinates.">PxCoords</a> <a class="code" href="class_map_painter.html#ac9c2bb380681752eecdd66037ca73192">ptToPxl</a>(<a class="code" href="class_pt_coords.html" title="The PtCoords class describe positions with virtual point coordinates.">PtCoords</a> p) <span class="keyword">const</span>; 
<a name="l00265"></a>00265     <a class="code" href="class_pt_coords.html" title="The PtCoords class describe positions with virtual point coordinates.">PtCoords</a> <a class="code" href="class_map_painter.html#af659a9c0dc9d9cd160dafc3aaef9974b">pxlToPt</a>(<a class="code" href="class_px_coords.html" title="The PxCoords class describe positions with real pixel coordinates.">PxCoords</a> p) <span class="keyword">const</span>; 
<a name="l00268"></a>00268     <a class="code" href="class_pt_coords.html" title="The PtCoords class describe positions with virtual point coordinates.">PtCoords</a> <a class="code" href="class_map_painter.html#a80a2a8fb072ef7e672369a07bb46b059">cooToPt</a>(<a class="code" href="class_cl_coords.html" title="The ClCoords class describe positions with cell coordinates.">ClCoords</a> p) <span class="keyword">const</span>; 
<a name="l00271"></a>00271     <a class="code" href="class_cl_coords.html" title="The ClCoords class describe positions with cell coordinates.">ClCoords</a> <a class="code" href="class_map_painter.html#a00f55d40c322ff5f2038a6515423f9f1">ptToCoo</a>(<a class="code" href="class_pt_coords.html" title="The PtCoords class describe positions with virtual point coordinates.">PtCoords</a> p) <span class="keyword">const</span>; 
<a name="l00274"></a>00274     <a class="code" href="class_px_coords.html" title="The PxCoords class describe positions with real pixel coordinates.">PxCoords</a> <a class="code" href="class_map_painter.html#a4162990e1c9ed17877c0f5a7ad33f606">cooToPxl</a>(<a class="code" href="class_cl_coords.html" title="The ClCoords class describe positions with cell coordinates.">ClCoords</a> p) <span class="keyword">const</span>; 
<a name="l00277"></a>00277     <a class="code" href="class_cl_coords.html" title="The ClCoords class describe positions with cell coordinates.">ClCoords</a> <a class="code" href="class_map_painter.html#a8f14b86f89dabf7183ae960284aaf0b5">pxlToCoo</a>(<a class="code" href="class_px_coords.html" title="The PxCoords class describe positions with real pixel coordinates.">PxCoords</a> p) <span class="keyword">const</span>; 
<a name="l00280"></a>00280     <a class="code" href="class_pt_coords.html" title="The PtCoords class describe positions with virtual point coordinates.">PtCoords</a> <a class="code" href="class_map_painter.html#a1902b1ee672739e47d52a82c4fe3c657">indToPt</a>(<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j) <span class="keyword">const</span>; 
<a name="l00284"></a>00284     <span class="keyword">const</span> QColor &amp;<a class="code" href="class_map_painter.html#aeb9f8f1f8024a910eb23502189cf911e">selectedCellColor</a>() <span class="keyword">const</span>; 
<a name="l00289"></a>00289     <span class="keyword">const</span> QColor &amp;<a class="code" href="class_map_painter.html#a16c1476ffc1b42de1e3e999ff05f6895">preSelectedCellColor</a>() <span class="keyword">const</span>; 
<a name="l00294"></a>00294     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#ad1658d299eaee7ccdad70f00ad3f76d8">setSelectedCellColor</a>(<span class="keyword">const</span> QColor &amp;c); 
<a name="l00299"></a>00299     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#a1c57806b863cd4b83051033681421cf6">setPreSelectedCellColor</a>(<span class="keyword">const</span> QColor &amp;c); 
<a name="l00305"></a>00305 signals:
<a name="l00306"></a>00306     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#a8f1f85c58564d01e970bfcaf105e5f9b">mapSizeChanged</a>(QSize); 
<a name="l00312"></a>00312     <span class="keywordtype">void</span> <a class="code" href="class_map_painter.html#a15c872dbb6a7321b978928df5b850ea3">viewCenterChanged</a>(QPoint); 
<a name="l00319"></a>00319 <span class="keyword">private</span> slots:
<a name="l00320"></a>00320     <span class="keywordtype">void</span> updateMap(); 
<a name="l00324"></a>00324 <span class="keyword">private</span>:
<a name="l00325"></a>00325     <span class="keyword">inline</span> <span class="keywordtype">void</span> globalViewChanged();
<a name="l00326"></a>00326     <span class="keywordtype">void</span> updateBackground();
<a name="l00327"></a>00327     <span class="keywordtype">void</span> updateViewParameters();
<a name="l00328"></a>00328 
<a name="l00329"></a>00329     <span class="keyword">inline</span> <span class="keywordtype">void</span> changeBackgroundSize();
<a name="l00330"></a>00330     <span class="keyword">inline</span> <span class="keywordtype">void</span> changeBackgroundDistortion();
<a name="l00331"></a>00331     QImage &amp;getBackground(<a class="code" href="class_cell_type.html" title="The CellType class.">CellType</a> *ct);
<a name="l00332"></a>00332 
<a name="l00333"></a>00333     <a class="code" href="class_map.html" title="The Map class.">Map</a>* map;
<a name="l00334"></a>00334     <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">Element</a> displayed;
<a name="l00335"></a>00335     QMatrix isometricTransform; <span class="comment">// Matrix of the image transformation</span>
<a name="l00336"></a>00336     <span class="keywordtype">int</span> pWidth, pHeight;
<a name="l00337"></a>00337     <span class="keywordtype">int</span> nbCellsX, nbCellsY;
<a name="l00338"></a>00338     <span class="keywordtype">int</span> mapWidth, mapHeight;
<a name="l00339"></a>00339     <span class="keywordtype">int</span> selCellX, selCellY;
<a name="l00340"></a>00340     <span class="keywordtype">double</span> angleX, angleY;
<a name="l00341"></a>00341     <span class="keywordtype">double</span> centerX, centerY;
<a name="l00342"></a>00342     <span class="keywordtype">double</span> centerVarX, centerVarY;
<a name="l00343"></a>00343     <span class="keywordtype">double</span> viewScale;
<a name="l00344"></a>00344     <span class="keywordtype">double</span> ratioFactor;
<a name="l00345"></a>00345     QSize cellSize;
<a name="l00346"></a>00346 
<a name="l00347"></a>00347     QColor selColor, preSelColor;
<a name="l00348"></a>00348 
<a name="l00349"></a>00349     <a class="code" href="class_pt_coords.html" title="The PtCoords class describe positions with virtual point coordinates.">PtCoords</a> *intersec;
<a name="l00350"></a>00350     <span class="keywordtype">bool</span> changesOccured;
<a name="l00351"></a>00351     QDateTime lastMapUpdate;
<a name="l00352"></a>00352     QMap&lt;int, QImage&gt; cellBackgrounds; <span class="comment">// Contains the distorted images</span>
<a name="l00353"></a>00353     QMap&lt;int, QImage&gt; scaledCellBackgrounds;
<a name="l00354"></a>00354 
<a name="l00355"></a>00355     QImage im;
<a name="l00356"></a>00356 
<a name="l00357"></a>00357     <span class="keywordtype">int</span> iMin, iMax, jMin, jMax;
<a name="l00358"></a>00358 
<a name="l00359"></a>00359 
<a name="l00360"></a>00360 };
<a name="l00361"></a><a class="code" href="mappainter_8h.html#a8ff1425e1b187b08bee7d8d15b949f31">00361</a> <span class="keyword">inline</span> <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">MapPainter::Element</a> <a class="code" href="mappainter_8h.html#a8ff1425e1b187b08bee7d8d15b949f31" title="The operator | is the flag OR operation.">operator|</a>(<a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">MapPainter::Element</a> a, <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">MapPainter::Element</a> b){
<a name="l00362"></a>00362     <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">MapPainter::Element</a><span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(a)|static_cast&lt;int&gt;(b));
<a name="l00363"></a>00363 }
<a name="l00366"></a><a class="code" href="mappainter_8h.html#a0a6c57e7e739e87a96b674843eb8db51">00366</a> <span class="keyword">inline</span> <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">MapPainter::Element</a> <a class="code" href="mappainter_8h.html#a0a6c57e7e739e87a96b674843eb8db51" title="The operator &amp; is the flag AND operation.">operator&amp;</a>(<a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">MapPainter::Element</a> a, <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">MapPainter::Element</a> b){
<a name="l00367"></a>00367     <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">MapPainter::Element</a><span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(a)&amp;static_cast&lt;int&gt;(b));
<a name="l00368"></a>00368 }
<a name="l00371"></a><a class="code" href="mappainter_8h.html#a1d15970b6f6580d5fa3778f34e3bdf32">00371</a> <span class="keyword">inline</span> <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">MapPainter::Element</a> <a class="code" href="mappainter_8h.html#a1d15970b6f6580d5fa3778f34e3bdf32" title="The operator ^ is the flag substraction operation.">operator^</a>(<a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">MapPainter::Element</a> a, <a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">MapPainter::Element</a> b){
<a name="l00372"></a>00372     <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="class_map_painter.html#a771b3fa246b6c13cc2acbdcf1cb6eee3" title="The Element enum discribes the different elements that can be render.">MapPainter::Element</a><span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(a)&amp;!static_cast&lt;int&gt;(b));
<a name="l00373"></a>00373 }
<a name="l00379"></a>00379 <span class="preprocessor">#endif // MAPPAINTER_H</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
